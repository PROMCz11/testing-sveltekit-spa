import{s as k,n as c,o as x}from"../chunks/scheduler.CtbWrGNo.js";import{S,i as q,e as I,c as M,k as B,l as T,g as $,d as H}from"../chunks/index.C4D7lu78.js";import{l as U}from"../chunks/new-logo.DsdXLF4Y.js";import{e as C}from"../chunks/email-icon.rKPc7fMv.js";import{v as D,a as Z}from"../chunks/password-visible-off-icon.DzAOJ6Bv.js";const b="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='40px'%20viewBox='0%20-960%20960%20960'%20width='40px'%20fill='%23e8eaed'%3e%3cpath%20d='M573.33-446.67H760v-66.66H573.33v66.66Zm0-120H760v-66.66H573.33v66.66ZM200-320h320v-20q0-43-43-69.5T360-436q-74%200-117%2026.5T200-340v20Zm159.95-169.33q31.05%200%2053.22-22.12%2022.16-22.11%2022.16-53.16%200-31.06-22.11-53.22Q391.11-640%20360.05-640q-31.05%200-53.22%2022.11-22.16%2022.12-22.16%2053.17t22.11%2053.22q22.11%2022.17%2053.17%2022.17ZM146.67-160q-27%200-46.84-19.83Q80-199.67%2080-226.67v-506.66q0-27%2019.83-46.84Q119.67-800%20146.67-800h666.66q27%200%2046.84%2019.83Q880-760.33%20880-733.33v506.66q0%2027-19.83%2046.84Q840.33-160%20813.33-160H146.67Zm0-66.67h666.66v-506.66H146.67v506.66Zm0%200v-506.66%20506.66Z'/%3e%3c/svg%3e";function _(d){let t,a=`<img src="${U}" alt="" id="logo"/> <main class="fs-16 svelte-cc5wid"><p class="fs-20 svelte-cc5wid">Sign up for Task Manager</p> <div class="input-field svelte-cc5wid"><label for="first-name">First name</label> <input type="text" name="first-name" id="first-name"/> <img src="${b}" alt=""/></div> <div class="input-field svelte-cc5wid"><label for="last-name">Last name</label> <input type="text" name="last-name" id="last-name"/> <img src="${b}" alt=""/></div> <div class="input-field svelte-cc5wid"><label for="email">Email</label> <input type="email" name="email" id="email"/> <img src="${C}" alt=""/></div> <div class="input-field svelte-cc5wid"><label for="password">Password</label> <input type="password" name="password" id="password"/> <img id="visibility-btn-on" src="${D}" alt=""/> <img class="hide" id="visibility-btn-off" src="${Z}" alt=""/></div> <button id="sign-up-btn">Sign up</button> <p class="svelte-cc5wid"><span>Already have an account?</span><span><a href="login" class="svelte-cc5wid">Log in</a></span></p></main> <div class="animated-grid"></div>`;return{c(){t=I("div"),t.innerHTML=a,this.h()},l(s){t=M(s,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-29dh32"&&(t.innerHTML=a),this.h()},h(){T(t,"class","body-signup svelte-cc5wid")},m(s,r){$(s,t,r)},p:c,i:c,o:c,d(s){s&&H(t)}}}function P(d){return x(()=>{document.querySelectorAll(".input-field input").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.querySelector("label").classList.contains("shift-label")||e.parentElement.querySelector("label").classList.toggle("shift-label")}),e.addEventListener("blur",()=>{e.value||e.parentElement.querySelector("label").classList.toggle("shift-label")})});const a=document.getElementById("visibility-btn-on"),s=document.getElementById("visibility-btn-off");a.addEventListener("click",()=>{a.classList.toggle("hide"),s.classList.toggle("hide"),a.parentElement.querySelector("input#password").type="text"}),s.addEventListener("click",()=>{a.classList.toggle("hide"),s.classList.toggle("hide"),s.parentElement.querySelector("input#password").type="password"});const r=document.querySelector(".animated-grid"),w=900;let m;for(let e=0;e<w;e++)m+='<div class="box"></div>';r.innerHTML+=m;const p=0,E=1e4;document.querySelectorAll(".animated-grid .box").forEach(e=>{e.classList.toggle("glow");const n=Math.floor(Math.random()*(E-p+1))+p;e.style.animationDelay=`${n}ms`;const o=Math.floor(Math.random()*16)+1;setTimeout(()=>{(o===1||o===2||o===3)&&e.classList.add("box-glow")},n)});const v=document.getElementById("first-name"),f=document.getElementById("last-name"),u=document.getElementById("email"),g=document.getElementById("password"),L=e=>{const n=new Date;n.setMonth(n.getMonth()+1),document.cookie=`verifyUserToken=${e}; expires=${n.toUTCString()}`},l=()=>{const e=v.value,n=f.value,o=[e,n].join(" "),y=u.value.toLowerCase(),h=g.value;h==""?window.alert("Password can't be empty"):e==""||n==""?window.alert("Please enter your full name"):y==""?window.alert("Please enter your email"):fetch("https://task-manager-back-end-7gbe.onrender.com/api/user/register",{method:"POST",body:JSON.stringify({name:o,email:y,password:h}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(i=>i.json()).then(i=>{i.status?(L(i.data.verifyUserToken),window.location.href="confirmation"):alert(i.message)}).catch(i=>console.log(i))};document.getElementById("sign-up-btn").addEventListener("click",l),u.addEventListener("keyup",e=>{e.key==="Enter"&&l()}),g.addEventListener("keyup",e=>{e.key==="Enter"&&l()}),v.addEventListener("keyup",e=>{e.key==="Enter"&&l()}),f.addEventListener("keyup",e=>{e.key==="Enter"&&l()})}),[]}class j extends S{constructor(t){super(),q(this,t,P,_,k,{})}}export{j as component};
