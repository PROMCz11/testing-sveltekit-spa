import{s as h,n as r,o as y}from"../chunks/scheduler.CtbWrGNo.js";import{S as L,i as E,e as k,c as w,k as S,l as x,g as I,d as T}from"../chunks/index.C4D7lu78.js";import{l as M}from"../chunks/new-logo.DsdXLF4Y.js";import{e as B}from"../chunks/email-icon.rKPc7fMv.js";import{v as q,a as $}from"../chunks/password-visible-off-icon.DzAOJ6Bv.js";function z(c){let t,i=`<img src="${M}" alt="" id="logo"/> <main class="fs-16 svelte-dzv1lp"><p class="fs-20 svelte-dzv1lp">Log in to Task Manager</p> <div class="input-field svelte-dzv1lp"><label for="email">Email</label> <input type="email" name="email" id="email"/> <img src="${B}" alt=""/></div> <div class="input-field svelte-dzv1lp"><label for="password">Password</label> <input type="password" name="password" id="password"/> <img id="visibility-btn-on" src="${q}" alt=""/> <img class="hide" id="visibility-btn-off" src="${$}" alt=""/></div> <div class="remember-me-wrapper"><input type="checkbox" name="remember-me" id="remember-me"/><label for="remember-me">Remember me</label></div> <button id="log-in-btn">Log in</button> <p class="svelte-dzv1lp"><span>You don&#39;t have an account?</span><span><a href="signup" class="svelte-dzv1lp">Sign up</a></span></p></main> <div class="animated-grid"></div>`;return{c(){t=k("div"),t.innerHTML=i,this.h()},l(n){t=w(n,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-colj4x"&&(t.innerHTML=i),this.h()},h(){x(t,"class","body-login svelte-dzv1lp")},m(n,l){I(n,t,l)},p:r,i:r,o:r,d(n){n&&T(t)}}}function C(c){return y(()=>{document.querySelectorAll(".input-field input").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.querySelector("label").classList.contains("shift-label")||e.parentElement.querySelector("label").classList.toggle("shift-label")}),e.addEventListener("blur",()=>{e.value||e.parentElement.querySelector("label").classList.toggle("shift-label")})});const i=document.getElementById("visibility-btn-on"),n=document.getElementById("visibility-btn-off");i.addEventListener("click",()=>{i.classList.toggle("hide"),n.classList.toggle("hide"),i.parentElement.querySelector("input#password").type="text"}),n.addEventListener("click",()=>{i.classList.toggle("hide"),n.classList.toggle("hide"),n.parentElement.querySelector("input#password").type="password"});const l=document.querySelector(".animated-grid"),g=900;let d;for(let e=0;e<g;e++)d+='<div class="box"></div>';l.innerHTML+=d;const m=0,v=1e4;document.querySelectorAll(".animated-grid .box").forEach(e=>{e.classList.toggle("glow");const a=Math.floor(Math.random()*(v-m+1))+m;e.style.animationDelay=`${a}ms`;const s=Math.floor(Math.random()*16)+1;setTimeout(()=>{(s===1||s===2||s===3)&&e.classList.add("box-glow")},a)});const p=document.getElementById("email"),u=document.getElementById("password"),f=e=>{const a=new Date;a.setMonth(a.getMonth()+1),document.cookie=`authToken=${e}; expires=${a.toUTCString()}`},o=()=>{const e=p.value.toLowerCase(),a=u.value;fetch("https://task-manager-back-end-7gbe.onrender.com/api/user/login",{method:"POST",body:JSON.stringify({email:e,password:a}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(s=>s.json()).then(s=>{if(s.status){const b=s.data.authToken;f(b),window.location.href="app"}else alert(s.message)}).catch(s=>console.log(s))};document.getElementById("log-in-btn").addEventListener("click",o),p.addEventListener("keyup",e=>{e.key==="Enter"&&o()}),u.addEventListener("keyup",e=>{e.key==="Enter"&&o()})}),[]}class N extends L{constructor(t){super(),E(this,t,C,z,h,{})}}export{N as component};
